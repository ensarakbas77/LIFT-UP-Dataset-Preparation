<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIFT UP Dataset Extraction Tool</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-dark bg-gradient shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-file-pdf me-2"></i>
                LIFT UP Dataset Extraction
            </a>
            <span class="navbar-text text-white-50">
                <i class="fas fa-language me-1"></i>
                TR/EN Extraction Tool
            </span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
        <!-- Header -->
        <div class="text-center mb-5">
            <h1 class="display-4 fw-bold mb-3">
                <i class="fas fa-robot text-primary"></i>
                PDF Makale Veri Ã‡Ä±karÄ±cÄ±
            </h1>
            <p class="lead text-muted">
                PDF makalelerinden baÅŸlÄ±k, Ã¶zet ve anahtar kelimeleri (TR/EN) otomatik Ã§Ä±karÄ±n
            </p>
        </div>

        <!-- Upload Card -->
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-lg border-0 rounded-4">
                    <div class="card-body p-5">
                        <!-- Upload Form -->
                        <form id="uploadForm" enctype="multipart/form-data">
                            <!-- File Input -->
                            <div class="mb-4">
                                <label class="form-label fw-semibold">
                                    <i class="fas fa-cloud-upload-alt me-2 text-primary"></i>
                                    PDF DosyasÄ± SeÃ§in
                                </label>
                                <div class="upload-area" id="uploadArea">
                                    <input type="file" class="form-control d-none" id="pdfFile" name="pdfFile"
                                        accept=".pdf" required>
                                    <div class="upload-content text-center" id="uploadContent">
                                        <i class="fas fa-cloud-upload-alt fa-3x text-primary mb-3"></i>
                                        <p class="mb-2 fw-semibold">DosyayÄ± sÃ¼rÃ¼kleyin veya tÄ±klayÄ±n</p>
                                        <p class="text-muted small">Maksimum dosya boyutu: 50MB</p>
                                    </div>
                                    <div class="file-info d-none" id="fileInfo">
                                        <i class="fas fa-file-pdf fa-2x text-danger mb-2"></i>
                                        <p class="mb-0 fw-semibold" id="fileName"></p>
                                        <p class="text-muted small" id="fileSize"></p>
                                        <button type="button" class="btn btn-sm btn-outline-danger mt-2"
                                            id="removeFile">
                                            <i class="fas fa-times me-1"></i> KaldÄ±r
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Year Input -->
                            <div class="mb-4">
                                <label for="year" class="form-label fw-semibold">
                                    <i class="fas fa-calendar me-2 text-primary"></i>
                                    YÄ±l Bilgisi
                                </label>
                                <input type="text" class="form-control form-control-lg" id="year" name="year"
                                    value="2021-2022" placeholder="Ã–rn: 2021-2022" required>
                                <div class="form-text">
                                    <i class="fas fa-info-circle me-1"></i>
                                    Bu bilgi CSV dosyasÄ±na yazÄ±lacaktÄ±r
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <button type="submit" class="btn btn-primary btn-lg w-100 py-3" id="submitBtn">
                                <i class="fas fa-cogs me-2"></i>
                                PDF'i Ä°ÅŸle ve CSV OluÅŸtur
                            </button>
                        </form>

                        <!-- Progress Section -->
                        <div class="mt-4 d-none" id="progressSection">
                            <div class="progress" style="height: 30px;">
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary"
                                    role="progressbar" style="width: 100%" id="progressBar">
                                    <span class="fw-semibold">
                                        <i class="fas fa-spinner fa-spin me-2"></i>
                                        Ä°ÅŸleniyor...
                                    </span>
                                </div>
                            </div>
                            <p class="text-center text-muted mt-3 mb-0" id="progressText">
                                PDF dosyanÄ±z iÅŸleniyor, lÃ¼tfen bekleyin...
                            </p>
                        </div>

                        <!-- Result Section -->
                        <div class="mt-4 d-none" id="resultSection">
                            <div class="alert alert-success shadow-sm border-0 rounded-3" role="alert">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-check-circle fa-2x text-success me-3"></i>
                                    <div>
                                        <h5 class="mb-1">Ä°ÅŸlem BaÅŸarÄ±lÄ±!</h5>
                                        <p class="mb-0" id="resultMessage"></p>
                                    </div>
                                </div>
                                <div class="d-grid gap-2">
                                    <button class="btn btn-info btn-lg" id="analyzeBtn">
                                        <i class="fas fa-chart-bar me-2"></i>
                                        Analiz SonuÃ§larÄ±nÄ± GÃ¶r
                                    </button>
                                    <button class="btn btn-success btn-lg" id="downloadBtn">
                                        <i class="fas fa-download me-2"></i>
                                        CSV DosyasÄ±nÄ± Ä°ndir
                                    </button>
                                    <button class="btn btn-outline-secondary" id="resetBtn">
                                        <i class="fas fa-redo me-2"></i>
                                        Yeni Ä°ÅŸlem BaÅŸlat
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Analysis Section -->
                        <div class="mt-4 d-none" id="analysisSection">
                            <div class="card border-0 shadow-sm rounded-3">
                                <div class="card-header bg-gradient-info text-white">
                                    <h5 class="mb-0">
                                        <i class="fas fa-chart-line me-2"></i>
                                        CSV Analiz SonuÃ§larÄ±
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <!-- Genel Ä°statistikler -->
                                    <div class="row mb-4">
                                        <div class="col-md-3">
                                            <div class="stat-box text-center p-3 bg-primary-light rounded-3">
                                                <i class="fas fa-file-alt fa-2x text-primary mb-2"></i>
                                                <h3 class="mb-0 fw-bold" id="statTotalArticles">-</h3>
                                                <p class="text-muted small mb-0">Toplam Makale</p>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stat-box text-center p-3 bg-success-light rounded-3">
                                                <i class="fas fa-columns fa-2x text-success mb-2"></i>
                                                <h3 class="mb-0 fw-bold" id="statTotalColumns">-</h3>
                                                <p class="text-muted small mb-0">Toplam SÃ¼tun</p>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stat-box text-center p-3 bg-warning-light rounded-3">
                                                <i class="fas fa-exclamation-triangle fa-2x text-warning mb-2"></i>
                                                <h3 class="mb-0 fw-bold" id="statMissingValues">-</h3>
                                                <p class="text-muted small mb-0">Eksik DeÄŸer</p>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stat-box text-center p-3 bg-info-light rounded-3">
                                                <i class="fas fa-database fa-2x text-info mb-2"></i>
                                                <h3 class="mb-0 fw-bold" id="statFileSize">-</h3>
                                                <p class="text-muted small mb-0">Dosya Boyutu</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Dil Ä°statistikleri -->
                                    <div class="mb-4" id="languageStatsSection">
                                        <h6 class="fw-semibold mb-3">
                                            <i class="fas fa-language me-2 text-primary"></i>
                                            Dil BazlÄ± Tamamlanma OranlarÄ±
                                        </h6>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-2">
                                                    <div class="d-flex justify-content-between mb-1">
                                                        <span class="small fw-semibold">ðŸ‡¹ðŸ‡· TÃ¼rkÃ§e</span>
                                                        <span class="small fw-semibold" id="trPercentage">-</span>
                                                    </div>
                                                    <div class="progress" style="height: 25px;">
                                                        <div class="progress-bar bg-danger" id="trProgressBar"
                                                            role="progressbar" style="width: 0%">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-2">
                                                    <div class="d-flex justify-content-between mb-1">
                                                        <span class="small fw-semibold">ðŸ‡¬ðŸ‡§ Ä°ngilizce</span>
                                                        <span class="small fw-semibold" id="enPercentage">-</span>
                                                    </div>
                                                    <div class="progress" style="height: 25px;">
                                                        <div class="progress-bar bg-primary" id="enProgressBar"
                                                            role="progressbar" style="width: 0%">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Ä°lk 5 Veri -->
                                    <div class="mb-3">
                                        <h6 class="fw-semibold mb-3">
                                            <i class="fas fa-table me-2 text-primary"></i>
                                            Ä°lk 5 Makale Verisi
                                        </h6>
                                        <div class="table-responsive">
                                            <table class="table table-hover table-bordered" id="dataPreviewTable">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>Sayfa</th>
                                                        <th>YÄ±l</th>
                                                        <th>BaÅŸlÄ±k (TR)</th>
                                                        <th>BaÅŸlÄ±k (EN)</th>
                                                        <th>Durum</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="dataPreviewBody">
                                                    <!-- JavaScript ile doldurulacak -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <!-- Eksik DeÄŸer DetaylarÄ± -->
                                    <div class="mb-3 d-none" id="missingDetailsSection">
                                        <h6 class="fw-semibold mb-3">
                                            <i class="fas fa-info-circle me-2 text-warning"></i>
                                            Eksik DeÄŸer DetaylarÄ±
                                        </h6>
                                        <div class="alert alert-warning" id="missingDetailsList">
                                            <!-- JavaScript ile doldurulacak -->
                                        </div>
                                    </div>

                                    <!-- Butonlar -->
                                    <div class="d-flex gap-2 mt-3">
                                        <button class="btn btn-success" id="downloadBtnFromAnalysis">
                                            <i class="fas fa-download me-2"></i>
                                            CSV Ä°ndir
                                        </button>
                                        <button class="btn btn-outline-secondary" id="closeAnalysisBtn">
                                            <i class="fas fa-times me-2"></i>
                                            Kapat
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Error Section -->
                        <div class="mt-4 d-none" id="errorSection">
                            <div class="alert alert-danger shadow-sm border-0 rounded-3" role="alert">
                                <div class="d-flex align-items-start">
                                    <i class="fas fa-exclamation-triangle fa-2x text-danger me-3"></i>
                                    <div class="flex-grow-1">
                                        <h5 class="mb-2">Hata OluÅŸtu</h5>
                                        <p class="mb-0" id="errorMessage"></p>
                                        <button class="btn btn-outline-danger mt-3" id="retryBtn">
                                            <i class="fas fa-redo me-2"></i>
                                            Tekrar Dene
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info Cards -->
                <div class="row mt-4">
                    <div class="col-md-4">
                        <div class="info-card text-center p-4">
                            <i class="fas fa-heading fa-2x text-primary mb-3"></i>
                            <h6 class="fw-semibold">BaÅŸlÄ±k Ã‡Ä±karma</h6>
                            <p class="text-muted small mb-0">TÃ¼rkÃ§e ve Ä°ngilizce baÅŸlÄ±klar otomatik tespit edilir</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="info-card text-center p-4">
                            <i class="fas fa-align-left fa-2x text-success mb-3"></i>
                            <h6 class="fw-semibold">Ã–zet Ã‡Ä±karma</h6>
                            <p class="text-muted small mb-0">Ã–zetler her iki dilde de Ã§Ä±karÄ±lÄ±r</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="info-card text-center p-4">
                            <i class="fas fa-tags fa-2x text-warning mb-3"></i>
                            <h6 class="fw-semibold">Anahtar Kelimeler</h6>
                            <p class="text-muted small mb-0">TR/EN anahtar kelimeler ayrÄ±ÅŸtÄ±rÄ±lÄ±r</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-5 py-4 bg-light">
        <div class="container text-center">
            <p class="text-muted mb-2">
                <i class="fas fa-code me-1"></i>
                LIFT UP Dataset Extraction Tool
            </p>
            <p class="text-muted small mb-0">
                <i class="fas fa-flask me-1"></i>
                Powered by Flask & PyMuPDF |
                <i class="fab fa-python ms-2 me-1"></i>
                Python OOP Architecture
            </p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>